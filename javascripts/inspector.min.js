(function(){function e(a){return typeof a==="undefined"||a.search(/^(http|https):\/\//)!=-1||a.search(/^\/\//)!=-1?true:false}function f(a,b){a=a.replace(/\/$/,"");b=b.replace(/^\//,"");return a+"/"+b}function h(){$("title").html("Inspector");var a=unescape($("input#lan-url-host").attr("value"));a=a.replace(/\/$/,"");$("a").each(function(){var c=$(this).attr("href");e(c)||$(this).attr("href",f(a,c))});$("img").each(function(){var c=$(this).attr("src");e(c)||$(this).attr("src",f(a,c))});$("link").each(function(){var c=
$(this).attr("href");e(c)||$(this).attr("href",f(a,c))});$("frame").each(function(){var c=$(this).attr("src");e(c)||$(this).attr("src",f(a,c))});$("script").each(function(){var c=$(this).attr("src");e(c)||$(this).attr("src",f(a,c))});var b=$('<iframe src="/tips" scrolling="no" id="lan-tips"><p>Your browser does not support iframes.</p></iframe>');b.css({position:"fixed",left:"0px",bottom:"0px",width:"100%",height:"65px","border-style":"none",overflow:"hidden","z-index":this.maxInt});b.bind("mouseover",
function(){if(b.css("bottom")=="0px"){b.css("bottom","");b.css("top","0px")}else{b.css("bottom","0px");b.css("top","")}});$("body").append(b)}var g=function(){this.highlighter=this.oldElement=null;this.maxInt=2147483646};g.prototype={startInspecting:function(a){this.highlight(a)},stopInspecting:function(a){var b=a.target;a=$("input#lan-email").attr("value");var c=$("input#lan-request-url").attr("value");b=escape(this.getElementXPath(b));window.location="/submit?email="+a+"&url="+c+"&xpath="+b},highlight:function(a){a=
a.target;if(this.oldElement!=a){this.oldElement&&this.highlighter&&document.body.removeChild(this.highlighter);this.oldElement=a;this.highlighter=this.getHighlighter(a);document.body.appendChild(this.highlighter)}},getLTRBWH:function(a){var b={left:0,top:0,right:0,bottom:0,width:0,height:0};if(a){a=a.getBoundingClientRect();b.left=a.left;b.top=a.top;b.right=a.right;b.bottom=a.bottom;if(a.width){b.width=a.width;b.height=a.height}else{b.width=b.right-b.left;b.height=b.bottom-b.ptop}}return b},getHighlighter:function(a){var b=
document.createElement("div");a=this.getLTRBWH(a);b.style.cssText="left: "+a.left+"px !important; top: "+a.top+"px !important; width: "+a.width+"px !important; height: "+a.height+"px !important; position: fixed !important; z-index: "+this.maxInt+" !important; pointer-events: none !important; box-shadow: 0 0 2px 2px #3875D7 !important; -moz-box-shadow: 0 0 2px 2px #3875D7 !important; -webkit-box-shadow: 0 0 2px 2px #3875D7 !important;";return b},getElementXPath:function(a){return a&&a.id?'//*[@id="'+
a.id+'"]':this.getElementTreeXPath(a)},getElementTreeXPath:function(a){for(var b=[];a&&a.nodeType==1;a=a.parentNode){for(var c=0,d=a.previousSibling;d;d=d.previousSibling)d.nodeType!=Node.DOCUMENT_TYPE_NODE&&d.nodeName==a.nodeName&&++c;d=a.nodeName.toLowerCase();b.splice(0,0,d+(c?"["+(c+1)+"]":""))}return b.length?"/"+b.join("/"):null},getOuterHTML:function(a){return $("<div></div>").append($(a).clone()).html()}};$(document).ready(function(){h();var a=new g;$("body").bind("mouseover",function(b){a.startInspecting(b)});
$("body").bind("mouseup",function(b){a.stopInspecting(b)});$("body").bind("click",function(b){b.stopPropagation();b.preventDefault()})})})();